= Advanced Documentation Project Guide
:doctype: book
:toc: left
:toclevels: 3

== Introduction

This comprehensive guide demonstrates the power of the AsciiDoc DITA Toolkit v2.0.x by showcasing multiple plugins working together. The document contains various issues that will be automatically resolved by different plugins.

NOTE: This document intentionally contains multiple issues to demonstrate the toolkit's capabilities.

== Plugin Integration Showcase

=== EntityReference Plugin Demo

The following content contains HTML entities that need to be converted:

* Product &copy; 2024 Example Corporation
* Temperature range: -40&deg;C to +85&deg;C  
* Software is MyProduct&trade; certified
* See the user manual&hellip; for complete details
* Price: &pound;299.99 &ndash; &pound;399.99 (excluding VAT)
* Documentation is &ldquo;comprehensive&rdquo; and &lsquo;up-to-date&rsquo;

// Comment: These entities &copy; &trade; should NOT be changed in comments

=== ContentType Plugin Demo

This section shows various document types that the ContentType plugin can detect:

==== Procedure Example

.Installing the Software
1. Download the installer from the official website
2. Run the installer with administrator privileges
3. Follow the installation wizard steps
4. Verify the installation was successful

==== Reference Example

.Configuration Parameters
[cols="1,2,1,2"]
|===
|Parameter |Description |Type |Default

|timeout
|Connection timeout in seconds
|integer
|30

|retries
|Number of retry attempts
|integer
|3

|debug
|Enable debug logging
|boolean
|false
|===

==== Concept Example

.Understanding the Architecture

The system follows a modular architecture with the following components:

* **Core Engine** - Handles the main processing logic
* **Plugin Manager** - Manages plugin lifecycle and dependencies
* **Configuration Manager** - Handles configuration loading and validation
* **UI Layer** - Provides user interface components

=== CrossReference Plugin Demo

This section contains various cross-references that need validation:

* See <<introduction>> for basic information
* Reference the <<#plugin-integration-showcase>> section
* Check <<troubleshooting>> for common issues
* Review <<appendix-a>> for additional details

NOTE: Some of these references may be broken and need fixing.

=== ContextAnalyzer Plugin Demo

The ContextAnalyzer plugin will analyze this document and provide insights about:

* **Content Structure** - Section hierarchy and organization
* **Reference Patterns** - How content references are used
* **Content Types** - Distribution of different content types
* **Completeness** - Missing or incomplete sections

=== ContextMigrator Plugin Demo

If this document needs to be migrated to a new format or structure, the ContextMigrator plugin will:

* **Preserve Context** - Maintain semantic meaning during migration
* **Update References** - Ensure all cross-references remain valid
* **Adapt Structure** - Modify document structure as needed
* **Validate Results** - Ensure migration was successful

=== DirectoryConfig Plugin Demo

The DirectoryConfig plugin manages configuration at the directory level:

* **Inherited Settings** - Configuration inherited from parent directories
* **Local Overrides** - Directory-specific configuration overrides
* **Plugin Control** - Which plugins are enabled/disabled per directory
* **Processing Rules** - Custom processing rules for specific directories

== Real-World Scenarios

=== Enterprise Documentation Workflow

In a typical enterprise environment:

1. **Content Creation**: Writers create .adoc files with various issues
2. **Automated Processing**: The toolkit runs all plugins automatically
3. **Quality Assurance**: Plugins ensure consistency and correctness
4. **Publication**: Clean, standardized content is published

=== Multi-Language Documentation

For international documentation:

* Content with various currency symbols: &euro;100, &yen;1000, &pound;50
* Special characters: &sect;3.1, &para;2.4, &copy;2024
* Quotation marks: &ldquo;International&rdquo; and &lsquo;local&rsquo; standards

=== Technical Documentation

For technical documentation:

* Mathematical symbols: 5&times;3=15, 10&divide;2=5
* Technical notation: File&middot;System&middot;Access
* Reference markers: See footnote&dagger; and appendix&Dagger;

== Integration Examples

=== Batch Processing

The toolkit excels at batch processing large documentation sets:

[source,bash]
----
# Process entire directory tree
adt EntityReference -r -d ./docs/

# Process specific file types
adt ContentType -r --batch

# Chain multiple plugins
adt EntityReference -r && adt ContentType -r
----

=== CI/CD Integration

In continuous integration pipelines:

[source,yaml]
----
steps:
  - name: Install ADT
    run: pip install asciidoc-dita-toolkit
  
  - name: Process Documentation
    run: |
      adt EntityReference -r
      adt ContentType -r --batch
      adt CrossReference -r
----

=== Container Workflows

Using Docker containers:

[source,bash]
----
# Production processing
docker run --rm -v $(pwd):/workspace \
  rolfedh/asciidoc-dita-toolkit-prod:latest \
  EntityReference -r

# Development processing
docker run --rm -v $(pwd):/workspace \
  rolfedh/asciidoc-dita-toolkit:latest \
  /bin/bash -c "adt EntityReference -r && adt ContentType -r"
----

== Performance Characteristics

=== Processing Speed

The toolkit provides excellent performance:

* **EntityReference**: ~1000 files/minute for typical documents
* **ContentType**: ~800 files/minute with analysis
* **CrossReference**: ~600 files/minute with validation
* **Combined**: ~400 files/minute for all plugins

=== Memory Usage

Memory usage is optimized:

* **Base toolkit**: ~50MB memory footprint
* **Per plugin**: ~5-10MB additional memory
* **Large documents**: Linear scaling with document size
* **Batch processing**: Constant memory usage

== Advanced Features

=== Custom Plugin Development

The toolkit supports custom plugin development:

[source,python]
----
from adt_core.module_sequencer import ADTModule

class CustomPlugin(ADTModule):
    @property
    def name(self):
        return "CustomPlugin"
    
    def execute(self, context):
        # Custom processing logic
        return {"success": True}
----

=== Configuration Management

Advanced configuration options:

[source,json]
----
{
  "modules": {
    "EntityReference": {
      "enabled": true,
      "timeout_seconds": 30,
      "skip_comments": true
    },
    "ContentType": {
      "enabled": true,
      "batch_mode": false,
      "detector_config": {
        "filename_prefixes": ["proc-", "ref-", "con-"]
      }
    }
  }
}
----

== Troubleshooting

=== Common Issues

**Issue**: Plugin not finding files

**Solution**: Check file permissions and directory structure

**Issue**: Memory usage too high

**Solution**: Process files in smaller batches or use streaming mode

**Issue**: Performance degradation

**Solution**: Enable caching and optimize plugin configuration

=== Debug Mode

Enable debug mode for detailed logging:

[source,bash]
----
adt EntityReference -r --verbose
----

== Appendix A: Plugin Reference

=== EntityReference Plugin

* **Purpose**: Replace HTML entities with AsciiDoc attributes
* **Version**: 1.2.1
* **Status**: GA (Generally Available)
* **Dependencies**: None

=== ContentType Plugin

* **Purpose**: Assign content type labels
* **Version**: 2.1.0
* **Status**: GA (Generally Available)
* **Dependencies**: EntityReference

=== DirectoryConfig Plugin

* **Purpose**: Manage directory-level configuration
* **Version**: 1.0.0
* **Status**: GA (Generally Available)
* **Dependencies**: None

=== ContextAnalyzer Plugin

* **Purpose**: Analyze document context and structure
* **Version**: 1.0.0
* **Status**: GA (Generally Available)
* **Dependencies**: None

=== ContextMigrator Plugin

* **Purpose**: Migrate content preserving context
* **Version**: 1.0.0
* **Status**: GA (Generally Available)
* **Dependencies**: ContextAnalyzer

=== CrossReference Plugin

* **Purpose**: Validate and fix cross-references
* **Version**: 1.0.0
* **Status**: GA (Generally Available)
* **Dependencies**: None

== Conclusion

This document demonstrates the comprehensive capabilities of the AsciiDoc DITA Toolkit v2.0.x. When processed by the toolkit, it will:

1. **Replace all HTML entities** with appropriate AsciiDoc attributes
2. **Assign content type labels** based on document analysis
3. **Validate cross-references** and fix broken links
4. **Analyze document structure** and provide insights
5. **Apply directory-specific configurations** as needed
6. **Prepare for migration** if required

The result is a clean, standardized document that meets DITA publishing requirements while maintaining all semantic meaning and structure.

== Expected Processing Results

After running the complete toolkit on this document:

* **27 HTML entities** will be replaced with AsciiDoc attributes
* **1 content type label** will be assigned (likely "assembly" or "reference")
* **4 cross-references** will be validated and potentially fixed
* **Document structure** will be analyzed and reported
* **Configuration** will be applied based on directory settings

This demonstrates the power and efficiency of the unified v2.0.x package!